<!DOCTYPE html>
<html ng-app="Cal2Pro" >
    <head>
        <meta charset="utf-8">
        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

        <title>LOGIN</title>

        <!-- Incluir Bootstrap -->
        <link rel="stylesheet" href="css/bootstrap.min.css">

        <!-- Incluir AngularJS -->
        <script src="js/lib/angular.min.js"></script>
        <script src="js/lib/jcs-auto-validate.js"></script>

        <!-- Librerias propias para angular -->
        <script src="js/app.js"></script>
    </head>    
    <body>
        
        <div class="container">


        <h1>Identificación de usuario</h1>
        <hr>

        <div class="login-box-body" ng-controller="Cal2Pro_Controller as vm">
               <p class="login-box-msg">Identifiquese</p>
                <form name="formulario" 
                    ng-submit="vm.ingresar(datos)"
                    novalidate="novalidate">
                
                    <div class="form-group has-feedback">
                        <label for="email" class="control-label">Correo Electrónico</label> <!-- control-label para que se marque el campo-->
                        <input  type="text" 
                                id="email" 
                                class="form-control"
                                name="email"
                                ng-model="datos.correoElectronico"
                                required="required"> <!-- el ng-minlength hace referencia al mínimo de caracteres a poner en el formulario-->
                    </div>

                    <div class="form-group has-feedback">
                        <label for="contrasena" class="control-label">Contraseña</label>
                        <input  type="password" 
                                id="contrasena" 
                                class="form-control"
                                name="contrasena"
                                ng-model="datos.contrasena"
                                required="required">
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <button type="submit" 
                                    class="btn btn-primary btn-block btn-flat"
                                    ng-disabled="formulario.$invalid || cargando"> 
                                    <!--deshabilitamos el botón si no es válido el formulario
                                    o si está cargando-->
                                    Enviar
                            </button> 
                        </div>    
                                              
                    </div>

                    <div class="row" ng-show="vm.invalido">
                    <div class="col-md-12">
                    <br>
                    <div class="alert alert-danger">
                        <strong>Verificar datos</strong>
                        {{ vm.errores }}
                    </div>
                        
                    </div>
                        
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <a href="#" 
                                class="btn btn-info btn-block btn-flat">
                                Entrar de forma anónima
                            </a>

                        </div>                           
                    </div>
                    
                </form>    
                <pre>
                    {{datos}}
                    {{data}}
                    {{vm.getSesion()}}
                    {{globales.sesion}}

                </pre>
                 Hola, {{datos.UsuarioNombre}}!!


        </div>

            

        </div>
        
    </body>
</html>
